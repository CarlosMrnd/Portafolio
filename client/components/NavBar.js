import React, { useContext, useState } from "react";
import { Link } from "react-router-dom";
import handleStyleNav from "../utils/styleNav";
import languageContext from "../context/languageContext";
import handleLanguage from "../utils/languageHandle";
import NavPopup from "./NavPopup";

export default function NavBar() {

    const { language } = useContext(languageContext);
    const [showPopup, setShowPopup] = useState(false);
    const data = handleLanguage(language);

    function handleClick() {
        setShowPopup(prevState => !prevState);
        const languageIcon = document.getElementById("nav-lang-btn");
        languageIcon.classList.toggle("nav--active");
    }

    return (
        <div>
            {screen.width < 500 &&
                <nav id="nav-mob" className="flex-style green-border-round">
                    <Link to="/projects">
                        <svg className="nav--item" onClick={handleStyleNav} width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M45 60H5V90C5 92.6522 6.05357 95.1957 7.92893 97.0711C9.8043 98.9464 12.3478 100 15 100H85C87.6522 100 90.1957 98.9464 92.0711 97.0711C93.9464 95.1957 95 92.6522 95 90V60H55V70H45V60ZM45 55H0V25C0 19.5 4.5 15 10 15H30V10C30 7.34784 31.0536 4.8043 32.9289 2.92893C34.8043 1.05357 37.3478 0 40 0L60 0C62.6522 0 65.1957 1.05357 67.0711 2.92893C68.9464 4.8043 70 7.34784 70 10V15H90C92.6522 15 95.1957 16.0536 97.0711 17.9289C98.9464 19.8043 100 22.3478 100 25V55H55V45H45V55ZM60 15V10H40V15H60Z" />
                        </svg>
                    </Link>
                    <Link to="/">
                        <svg className="nav--item nav--active" onClick={handleStyleNav} width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50.1665 0.25C50.1665 0.25 19.2365 29.9167 1.9515 45.9833C0.936504 47.0056 0.166504 48.4944 0.166504 50.25C0.166504 53.3222 2.4015 55.8056 5.1665 55.8056H15.1665V94.6944C15.1665 97.7667 17.4015 100.25 20.1665 100.25H35.1665C37.9315 100.25 40.1665 97.7611 40.1665 94.6944V72.4722H60.1665V94.6944C60.1665 97.7611 62.4015 100.25 65.1665 100.25H80.1665C82.9315 100.25 85.1665 97.7667 85.1665 94.6944V55.8056H95.1665C97.9315 55.8056 100.167 53.3222 100.167 50.25C100.167 48.4944 99.3965 47.0056 98.2515 45.9833C81.0865 29.9167 50.1665 0.25 50.1665 0.25Z" />
                        </svg>
                    </Link>
                    <Link to="/skills">
                        <svg className="nav--item" onClick={handleStyleNav} width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M42.2481 8.35767C45.1968 8.35767 46.8752 11.2905 46.8752 14.2391V32.2915H43.1443C41.9081 29.2376 38.9141 27.0832 35.4168 27.0832C30.8145 27.0832 27.0835 30.8142 27.0835 35.4166C27.0835 40.019 30.8145 43.7499 35.4168 43.7499C38.9141 43.7499 41.9081 41.5955 43.1443 38.5415H46.8752V83.9495C46.8752 86.4333 45.8252 88.9037 43.6139 90.0358C41.7227 91.0041 39.544 91.6503 37.1166 91.6503C30.8222 91.6503 26.1411 88.4662 23.1294 84.6983C20.918 81.9316 19.4643 78.6795 18.8831 75.7937C17.2052 75.3062 15.3101 74.3933 13.5932 72.9203C10.6341 70.382 8.3335 66.2949 8.3335 60.2762C8.3335 57.1291 8.55854 54.3883 9.12254 52.0833H26.666C29.4915 52.0833 31.8304 54.1666 32.2306 56.8808C29.2091 58.132 27.0835 61.1095 27.0835 64.5833C27.0835 69.1858 30.8145 72.9166 35.4168 72.9166C40.0192 72.9166 43.7502 69.1858 43.7502 64.5833C43.7502 61.0737 41.5808 58.0712 38.51 56.8428C38.0667 50.6887 32.9334 45.8333 26.666 45.8333H12.6645C13.2083 45.3837 13.8055 45.0045 14.4551 44.6978C14.546 44.6553 14.6372 44.6141 14.7289 44.5745C14.2893 43.0449 14.0599 41.4475 13.9895 39.8801C13.8518 36.8185 14.3076 33.629 15.2183 30.7918C16.1155 27.9967 17.54 25.281 19.5433 23.4012C20.8012 22.2208 22.357 21.3284 24.1077 21.039C24.9357 17.5396 27.0487 14.6466 29.7447 12.5479C33.2098 9.85033 37.743 8.35767 42.2481 8.35767ZM53.1252 70.8333H60.0002C66.5585 70.8333 71.8752 65.5166 71.8752 58.9583V51.4774C74.9293 50.2412 77.0835 47.247 77.0835 43.7499C77.0835 39.1475 73.3527 35.4166 68.7502 35.4166C64.1477 35.4166 60.4168 39.1475 60.4168 43.7499C60.4168 47.247 62.571 50.2412 65.6252 51.4774V58.9583C65.6252 62.0649 63.1068 64.5833 60.0002 64.5833H53.1252V35.4459C53.1252 35.4361 53.1252 35.4263 53.1252 35.4165C53.1252 35.4068 53.1252 35.397 53.1252 35.3872V14.2391C53.1252 11.2905 54.8035 8.35767 57.7523 8.35767C62.2573 8.35767 66.7906 9.85033 70.2556 12.5479C72.9514 14.6466 75.0647 17.5396 75.8927 21.039C77.6435 21.3284 79.1993 22.2208 80.4573 23.4012C82.4602 25.281 83.8848 27.9967 84.7823 30.7918C85.6927 33.629 86.1485 36.8185 86.011 39.8801C85.9406 41.4475 85.711 43.0449 85.2714 44.5745C85.3631 44.6141 85.4543 44.6553 85.5452 44.6978C87.0877 45.4253 88.3343 46.5641 89.2723 48.0753C91.0435 50.9283 91.6668 55.0391 91.6668 60.2762C91.6668 66.2949 89.3664 70.382 86.4073 72.9203C84.6902 74.3933 82.7952 75.3062 81.1172 75.7937C80.536 78.6795 79.0822 81.9316 76.871 84.6983C73.8593 88.4662 69.1781 91.6503 62.8835 91.6503C60.4564 91.6503 58.2777 91.0041 56.3864 90.0358C54.1752 88.9037 53.1252 86.4333 53.1252 83.9495V70.8333ZM33.3335 35.4166C33.3335 34.266 34.2662 33.3332 35.4168 33.3332C36.5674 33.3332 37.5002 34.266 37.5002 35.4166C37.5002 36.5672 36.5674 37.4999 35.4168 37.4999C34.2662 37.4999 33.3335 36.5672 33.3335 35.4166ZM35.4168 62.4999C34.2662 62.4999 33.3335 63.4328 33.3335 64.5833C33.3335 65.7337 34.2662 66.6666 35.4168 66.6666C36.5674 66.6666 37.5002 65.7337 37.5002 64.5833C37.5002 63.4328 36.5674 62.4999 35.4168 62.4999ZM66.6668 43.7499C66.6668 44.9003 67.5998 45.8333 68.7502 45.8333C69.9006 45.8333 70.8335 44.9003 70.8335 43.7499C70.8335 42.5995 69.9006 41.6666 68.7502 41.6666C67.5998 41.6666 66.6668 42.5995 66.6668 43.7499Z" />
                        </svg>
                    </Link>
                    <svg id="nav-lang-btn" className="nav--item" onClick={handleClick} width="102" height="92" viewBox="0 0 102 92" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M54.9877 60.0938L43.346 48.5897L43.4835 48.4522C51.4585 39.5605 57.1418 29.3397 60.4877 18.523H73.9168V9.33342H41.8335V0.166748H32.6668V9.33342H0.583496V18.4542H51.7793C48.6856 27.3001 43.8502 35.6876 37.2502 43.0209C32.9877 38.2772 29.4585 33.1209 26.6627 27.6667H17.496C20.8418 35.1376 25.4252 42.1959 31.1543 48.5668L7.84808 71.598L14.3335 78.0834L37.2502 55.1667L51.5043 69.4209L54.9877 60.0938V60.0938ZM80.7918 36.8334H71.6252L51.0002 91.8334H60.1668L65.3231 78.0834H87.0939L92.2502 91.8334H101.417L80.7918 36.8334ZM68.7606 68.9168L76.2085 49.048L83.6564 68.9168H68.7606Z" />
                    </svg>
                    {showPopup && <NavPopup />}
                </nav>
            }
            {screen.width >= 1000 &&
                <nav id="nav-des" className="flex-style">
                    <Link to="/" className="nav-des--item text-center nav--active" onClick={handleStyleNav}>
                        {data[0].content.navInicio}
                    </Link>
                    <Link to="/projects" className="nav-des--item text-center" onClick={handleStyleNav}>
                        {data[0].content.navProjects}
                    </Link>
                    <Link to="/skills" className="nav-des--item text-center" onClick={handleStyleNav}>
                        {data[0].content.navSkills}
                    </Link>
                </nav>
            }
        </div>
    )
}